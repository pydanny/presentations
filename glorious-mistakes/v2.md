autoscale: true
footer: @pydanny / Kraken :octopus:
slidenumbers: true
slide-transition: true

# [fit] Glorious Mistakes

# [fit] 25 years of Python Errors

## Daniel Roy Greenfeld

---

# [fit] Glorious Mistakes

# [fit] 25 years of Python Errors

## Daniel Roy Greenfeld

---

# [fit] Hello Lithuania!

![inline full](assets/Flag_of_Lithuania.svg.png)

---

Hello Lithuania!

# First family member in

# [fit] 100 years


---

# My mother loves ≈†altibar≈°ƒçiai

![inline full](assets/beet-soup.jpg)

### In her honor I want to try the best Vilnius have to offer.

---

# [fit] Let's do this!

---

# I want to try the cheese

![inline full](assets/lithuanian-cheese.jpeg)

---

# [fit] Let's do this!
---

# [fit] First Mistake

---

[.background-color: #FF0000]
[.header: #FFFFFF, Avenir Next Bold]
[.text: #FFFFFF, Avenir Next Bold]

# 1.

# Skipping Interviews

---

# 1999: Skipped Zope Corp Opportunity

![](assets/long-hair.png)

---

# 1999: Skipped Zope Corp Opportunity

![inline full](assets/long-hair.png)

---

What happened?

# [fit] Scheduled an interview

---

# What happened?

# [fit] But this is 1999

---

# What happened?

# [fit] :snake:

# is a weird, obscure language

---

What happened?

# Blacksburg, Virginia is hard to get to as I didn't have a car

---

What happened


#  Java Enterprise is the path to success! 

(This was back when unnecessary complexity was considered the path to success)

---

What happened

# [fit] Cancelled interview!

---

## What I missed

## by cancelling an interview

![](assets/Guido_van_Rossum_OSCON_2006.jpg)

---

[.column]

# Cancelling an interview

At a time when Python was so new Guido (and others) spent untold hours lifting up people like me.

^ This would have been a huge career jump for me, instead of languishing for 7 years in enterprise environments.

[.column]

![inline full](assets/Guido_van_Rossum_OSCON_2006.jpg)

---

## Lessons Learned

1. Always go to interview!
2. I showed up for my 2nd interview at Kraken and look where it got me

---

# [fit] Second Mistake

---

[.background-color: #FF0000]
[.header: #FFFFFF, Avenir Next Bold]
[.text: #FFFFFF, Avenir Next Bold]

# 2.

# Unnecessary Sophistication

---

## Late 1990s to 2008-ish

---

# The Age of Zope

![](assets/zope-z-logo.png)

---

# What is Zope?

![inline full](assets/zope-z-logo.png)

---

# Zope used to dominate Python

- A web framework with its own NoSQL OO database
- Invented URL routing!
    - Before that was `index.pl` or `index.cfm`
- The vast majority of python web was Zope
- Zope track at PyCon!

---

# What happened to Zope?

- Created in the era where complexity was added to projects to prove their worth
- Frameworks using Zope added complexity for the sake of complexity

---

# Zope Hiring Story

At NASA we rejected a candidate because he claimed to have learned and set up a Zope-powered system into production within a week.

I know for a fact that would have been impossible. 

---

# 2008: Common community discourse

(How not to engage the community)

- "This is really hard and the docs are incomplete"
- "Take my class to understand it"
- "Here's some more complexity to fix the problem!"

---

# The community drifted away

---

# My Zope story

1. 2007 - This is kind of neat
2. 2008 - Neat, but easy things are hard and hard things impossible
3. 2009 - This Django stuff is so much easier, I'm done with Zope
4. 2010 - Oh look, Flask makes tiny web apps trivial!

---

# Lessons learned

1. Complexity for the sake of complexity is bad
2. The 5% edge case does not warrant unnecessary complexity
3. If learning your FOSS project requires paid courses, don't expect loyal customers

---

# Quick footnotes about Zope

1. Zope appears to have removed some of the unnecessary complexity
1. typing.Protocol is directly inspired Zope subtypes
1. I fond memories of working directly with ZPT and ZODB

---

# [fit] Third Mistake

---

[.background-color: #FF0000]
[.header: #FFFFFF, Avenir Next Bold]
[.text: #FFFFFF, Avenir Next Bold]

# 3.

# False = True

---

More accurately:

```python
# business/logic.py
true = 0
false = 1
```

Usecase: Vendor's API response!

---

# Confusing

```python
from business import logic, true, false

def process_result(vendorResponse):
    result = None
    for res in vendorResponse.results:
        if res.status == false:
            result = logic(res)
        if result.is_valid == True
            break
    return result
```

---

[.code-highlight: 6,8]

# Encouraged errors

```python
from business import logic, true, false

def process_result(vendorResponse):
    result = None
    for res in vendorResponse.results:
        if res.status == false:
            result = logic(res)
        if result.is_valid == True
            break
    return result
```

--- 

## What I broke

## by reversing booleans

![](assets/production.png)

---

[.background-color: #000000]
[.header: #FFFFFF]


## What I broke by reversing booleans

![inline full](assets/production.png)

---

[.background-color: #000000]
[.header: #FFFFFF]

## Repeatedly

![inline full](assets/production.png)

---

[.background-color: #000000]
[.header: #FFFFFF]

## Often

![inline full](assets/production.png)

---

## A better approach

```python
class VendorStatus(enum):
    positive: int = 0
    negative: int = 1
```

---

## A better approach

[.code-highlight: 6,8]

```python
from business import logic, VendorStatus

def process_result(vendorResponse):
    result = None
    for res in vendor_response.results:
        if res.status == VendorStatus.negative:
            result = logic(res)
        if result.is_valid == True
            break
    return result
```

---

## What I learned:

1. Business rules are often unnecessarily complex
2. Code should remain as simple as possible
3. Be wary of coding culture that encourages complexity

---

# Fourth Mistake

---

[.background-color: #FF0000]
[.header: #FFFFFF, Avenir Next Bold]
[.text: #FFFFFF, Avenir Next Bold]

# 4.

# Django Cleverness

---

## 2012-era Django

Python + Django cleverness

"Just because you can do a thing, doesn't mean you should"

Dr. Ian Malcolm

---

# A list of crazy things

# promoted in talks and blogs

---

# Using the database to control what is in installed_apps

---

# Removing None 

For languages without garbage collection, Tony said it's a billion dollar mistake.

So let's add a complex class in a garbage collected language (Python) to replace it!

---

# Who needs object inheritance when you have metaclasses!

Unless you are writing a framework you probably will never use them

---

# Use Django models edge case tools for everything

- Concrete models
- Generic Foreign Keys

---

# Using random Python features that add abstraction unnecessarily

1. functools.partials are awesome!
1. Python decorators are awesome!
1. Let's combine them for use in asynchronous coding!

https://github.com/pydanny/webhooks

Hey, why doesn't anyone want to use my library?

---

# A lot of failing Django projects

---

# All the work we can find are rescue Django projects

1. People code themselves into a corner using Django
2. We have to come in and fix the problems

---

# If only people stopped the clever coding!

# [fit] :angry:

---

# There needs to be a guide for keep things reasonable

# [fit] ü§î

---

# Two Scoops of Django!

---

# Lesson Learned

We can address problems by writing and coding

---

[.background-color: #FF0000]
[.header: #FFFFFF, Avenir Next Bold]
[.text: #FFFFFF, Avenir Next Bold]

# 5.

# A New Complexity

---

# [fit] Python Types
<br>

# A problem or not?

---

> "I like types but they aren't always good"
<br><br>

> David Seddon

---

For control of behaviors they are bliss

---

A lot of people believe types help catch bugs

---

# [fit] But

---

# Sometimes types are hard to implement

(You have to be clever as in 2012-era Django clever)

---

# Mypy is slow even on modest projects

# (Yes, I know there is a daemon)

---

# Upgrading mypy can be really hard

# Pro-tip: keep mypy and types up-to-date

---

# Contention:

## Are Python types the Zope of the 2020s?

---

# I don't think so

---

# Unlike Zope, python Types have outs

```python
from tying import Any

True == integer_value  # type: ignore
```

---

# But we should be wary

---

# Types are not a substitute for tests or good coding

